<?xml version="1.0" encoding="UTF-8"?>

<output>
    <ticket>
 	    <line><cabecera align="center" length="40" bold="true"></cabecera></line>       
		<line>
        <text align="left" length="30" >${empresa.getNombreComercial()}</text><text align="right" length="10" > </text>
		</line>
		<line>
		<text align="left" length="40" >MATRIZ:${empresa.getDireccionForPrint(33)}</text>
		</line>
		<line>
		<text align="left" length="40" >SUCURSAL: ${tienda.getDireccionForPrint()}</text>
		</line>
		<line>
		<text align="left" length="40" >RUC : ${empresa.getCif()}</text>
		</line>
		<line></line>
		
		
		
		<line>
            <text align="center" length="40" bold="true">RECIBO DE PAGO</text>
		</line>
		
	
		<line></line>
		<line>
		<text align="left" length="40" >FECHA : ${tienda.getPoblacionForPrint()}, ${fecha} </text>
		</line>
		<line>
		<text align="left" length="40" >HORA : ${hora} </text>
		</line>
		<line>
		<text align="left" length="40" >Tarjeta : ${creditoDirecto.getPlastico().getNumeroTarjeta()} </text>
		</line>
		<line>
		<text align="left" length="40" >Nombre : ${creditoDirecto.getPlastico().getCliente().getNombreImpresion()}  ${creditoDirecto.getPlastico().getCliente().getApellidoImpresion()} </text>
		</line>
      
		<line>
			<text length="35">----------------------------------------</text>
			<text length="5">-----</text>
		</line>
		<line></line>
		<line>
            <text align="left" length="35" bold="true">US DOLARES</text>
        </line>
		<line></line>
		
		#foreach ($subtotal in $ticket.getTotales().getSubtotalesImpuestos().values())
			#if (${subtotal.getTotal()}>0)
			<line>
				<text align="left" length="28">    SUBTOTAL IVA ${subtotal.getPorcentajeImpresion()}% </text>
				<text align="right" length="5">US$:</text>
				<text align="right" length="7"> ${subtotal.getTotalString()}</text>
			</line>
			#end
		#end
		<line>
            <text align="left" length="28">    IVA </text>
			<text align="right" length="5">US$:</text>
            <text align="right" length="7"> ${ticket.getTotales().getImpuestosString()}</text>
        </line>
		<line>
            <text align="left" length="28">    TOTAL </text>
			<text align="right" length="5">US$:</text>
            <text align="right" length="7"> ${ticket.getTotales().getTotalPagado().toString()}</text>
        </line>		
		<line></line>
        <line>
            <text align="left" length="35" bold="true">FORMA DE PAGO:</text>
        </line>
        
        #foreach ($pago in $ticket.getPagos().getPagos())
        <line>         
			#if (!(${pago.isPagoTarjeta()}))
				<text align="left" length="28">    ${pago.getMedioPagoActivo().getDesMedioPago()}</text>
			#end
			#if (${pago.isPagoTarjeta()})
				<text align="left" length="28">    ${pago.getMedioPagoActivo().getDesMedioPago()} (${pago.getPlanSeleccionado().getNumCuotas()})</text>
			#end
			<text align="right" length="5">US$:</text>		
            <text align="right" length="7"> ${pago.getUstedPaga().toString()}</text>
        </line>
			#if (!(${pago.getVuelta().isEmpty()}))
			<line>
				<text align="left" length="28"> Su cambio es de :</text>
				<text align="right" length="5"> $:</text>		
				<text align="right" length="7"> ${pago.getVuelta()}</text>
			</line>
			#end		
        #end
		<line></line>
        <line/>
        #if (${ticket.isObservacionVacia()})
           <line><text align="left" lenght="40">Observ : REVISADO </text> </line>
        #else
           <line><text align="left" lenght="40">Observ:</text></line>
           #foreach ($lineaObservacion in $ticket.getObservacionesLineaEnTicket().getLineas())
                <line><text align="left" lenght="40">$lineaObservacion </text></line>
          #end
        #end
        <line/>		      
		<line></line>
		<line></line>
		<line><text align="left" length="14">Elaborado por:</text><text align="left" length="26"> ${cajero}</text></line>
		<line></line>
        <line><text align="left" length="35">${fecha}</text></line>    
	    <line><pie align="center" length="40" bold="true></pie></line>		
    </ticket>
</output>